name: CI

on: push

jobs:
  lint:
    uses: ./.github/workflows/lint.yaml

  test:
    uses: ./.github/workflows/test.yaml

  deploy:
    if: contains(github.ref, 'master')
    needs: [lint, test]
    uses: ./.github/workflows/deploy-production.yaml
